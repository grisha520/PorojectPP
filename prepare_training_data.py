import pandas as pd
from sentence_transformers import InputExample
import json
import random

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏
df = pd.read_excel("–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏.xlsx", sheet_name="–õ–∏—Å—Ç1", engine="openpyxl").fillna("–Ω–µ —É–∫–∞–∑–∞–Ω–æ")

# –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–µ–∫—Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π: –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ -> [–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
preference_index = {}
for _, row in df.iterrows():
    if "–ò–Ω—Ç–µ—Ä–µ—Å—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)" in row:
        interests = str(row["–ò–Ω—Ç–µ—Ä–µ—Å—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)"])
        if interests != "–Ω–µ —É–∫–∞–∑–∞–Ω–æ" and interests.strip():
            for interest in interests.split(","):
                clean_interest = interest.strip()
                if clean_interest:
                    if clean_interest not in preference_index:
                        preference_index[clean_interest] = []
                    preference_index[clean_interest].append(row["–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"])

# –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
all_interests = set()
for interests in df["–ò–Ω—Ç–µ—Ä–µ—Å—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)"]:
    if isinstance(interests, str) and interests != "–Ω–µ —É–∫–∞–∑–∞–Ω–æ":
        for interest in interests.split(","):
            clean_interest = interest.strip()
            if clean_interest:
                all_interests.add(clean_interest)

QUESTION_TEMPLATES = {
    "–ø—Ä–æ—Ö_–±–∞–ª–ª_–±—é–¥–∂–µ—Ç": [
        "–ö–∞–∫–æ–π –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –Ω–∞ –±—é–¥–∂–µ—Ç –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é {dir}?",
        "–°–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –±—é–¥–∂–µ—Ç {dir}?",
        "–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ï–ì–≠ (–±—é–¥–∂–µ—Ç) –¥–ª—è {dir}?",
        "–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –±—é–¥–∂–µ—Ç {dir}?"
    ],
    "–º–∏–Ω_–±–∞–ª–ª_–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞": [
        "–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –Ω—É–∂–µ–Ω –¥–ª—è {dir}?",
        "–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ {dir}?",
        "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –¥–ª—è {dir}?"
    ],
    "–º–∏–Ω_–±–∞–ª–ª_—Ñ–∏–∑–∏–∫–∞": [
        "–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ø–æ —Ñ–∏–∑–∏–∫–µ –Ω—É–∂–µ–Ω –¥–ª—è {dir}?",
        "–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –ø–æ —Ñ–∏–∑–∏–∫–µ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ {dir}?",
        "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ø–æ —Ñ–∏–∑–∏–∫–µ –¥–ª—è {dir}?"
    ],
    "–±—é–¥–∂–µ—Ç–Ω—ã—Ö_–º–µ—Å—Ç": [
        "–°–∫–æ–ª—å–∫–æ –±—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ {dir}?",
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è {dir}?",
        "–°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç –Ω–∞ –±—é–¥–∂–µ—Ç –ø–æ {dir}?"
    ],
    "–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö_–º–µ—Å—Ç": [
        "–°–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ {dir}?",
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è {dir}?",
        "–°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ {dir}?"
    ],
    "–±–∞–ª–ª—ã": [
        "–ö–∞–∫–æ–π –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –Ω–∞ {dir}?", "–°–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è {dir}?",
        "–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ï–ì–≠ –¥–ª—è {dir}?", "–ö–∞–∫–æ–π –º–∏–Ω–∏–º—É–º –±–∞–ª–ª–æ–≤ –Ω—É–∂–µ–Ω –Ω–∞ {dir}?",
        "–° –∫–∞–∫–∏–º –±–∞–ª–ª–æ–º –ø–æ—Å—Ç—É–ø–∞—é—Ç –Ω–∞ {dir}?", "–ë–∞–ª–ª—ã –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ {dir}?",
        "–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ {dir}?",
    ],
    "–ø—Ä–µ–¥–º–µ—Ç—ã": [
        "–ö–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ {dir}?", "–ö–∞–∫–∏–µ –ï–ì–≠ –Ω—É–∂–Ω–æ —Å–¥–∞–≤–∞—Ç—å –¥–ª—è {dir}?",
        "–ü—Ä–µ–¥–º–µ—Ç—ã –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ {dir}?", "–ß—Ç–æ —Å–¥–∞–≤–∞—Ç—å –Ω–∞ –ï–ì–≠ –¥–ª—è {dir}?",
        "–ö–∞–∫–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è {dir}?", "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–∞ {dir}?",
        "–ë–µ–∑ –∫–∞–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–µ –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ {dir}?",
    ],
    "–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏": [
        "–ö–µ–º –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ {dir}?", "–ö–∞–∫–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –ø–æ—Å–ª–µ {dir}?",
        "–ù–∞ –∫–æ–≥–æ —É—á–∞—Ç –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ {dir}?", "–ö–∞–∫–∏–µ –∫–∞—Ä—å–µ—Ä–Ω—ã–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã —É {dir}?",
        "–ö–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω—ã —Å {dir}?", "–ì–¥–µ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è {dir}?",
        "–ö—É–¥–∞ –∏–¥—É—Ç –≤—ã–ø—É—Å–∫–Ω–∏–∫–∏ {dir}?",
    ],
    "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": [
        "–ß—Ç–æ –∏–∑—É—á–∞—é—Ç –Ω–∞ {dir}?", "–ö–∞–∫–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É {dir}?",
        "–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è {dir}?", "–ù–∞ —á–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è {dir}?",
        "–ß–µ–º—É –æ–±—É—á–∞—é—Ç –Ω–∞ {dir}?", "–ö–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–∑—É—á–∞—é—Ç —Å—Ç—É–¥–µ–Ω—Ç—ã {dir}?",
        "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É {dir}?",
    ],
    "–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è": [
        "–ö–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –Ω—É–∂–Ω—ã –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è {dir}?",
        "–ö–∞–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è {dir}?",
        "–ö–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ {dir}?",
        "–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –Ω—Ä–∞–≤–∏—Ç—å—Å—è –¥–ª—è {dir}?",
        "–ö–∞–∫–∏–µ —É–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è {dir}?",
        "–ü–æ–¥–æ–π–¥–µ—Ç –ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ {dir} –µ—Å–ª–∏ –º–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã: {interest}?",
        "–°–º–æ–≥—É –ª–∏ —è —É—á–∏—Ç—å—Å—è –Ω–∞ {dir} –µ—Å–ª–∏ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è {interest}?",
        "–ö–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ {interest}?",
        "–ì–¥–µ –∏–∑—É—á–∞—é—Ç {interest}?",
        "–ù–∞ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –µ—Å—Ç—å {interest}?",
        "–ö—É–¥–∞ –ø–æ—Å—Ç—É–ø–∏—Ç—å, –µ—Å–ª–∏ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è {interest}?",
        "–ö–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω—ã —Å {interest}?",
    ]
}

def random_prefix():
    return random.choice(["", "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ,", "–°–∫–∞–∂–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞,", "–ü–æ–¥—Å–∫–∞–∂–∏,", "–ú–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å,", "–ù–∞–ø–æ–º–Ω–∏,", "–ï—Å–ª–∏ –Ω–µ —Å–ª–æ–∂–Ω–æ,"])

def random_suffix():
    return random.choice(["", "–°–ø–∞—Å–∏–±–æ!", "–≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –º–µ–Ω—è.", "–û—á–µ–Ω—å –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å.", "–ü–ª–∞–Ω–∏—Ä—É—é –ø–æ—Å—Ç—É–ø–∞—Ç—å —Ç—É–¥–∞.", "–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç."])

def generate_answer(fact_type, fact_value, direction=None, interest=None):
    templates = {
        "–ø—Ä–æ—Ö_–±–∞–ª–ª_–±—é–¥–∂–µ—Ç": [
            f"–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –Ω–∞ –±—é–¥–∂–µ—Ç –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é ¬´{direction}¬ª —Å–æ—Å—Ç–∞–≤–ª—è–ª {fact_value}.",
            f"–î–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –±—é–¥–∂–µ—Ç –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ¬´{direction}¬ª –Ω—É–∂–Ω–æ –±—ã–ª–æ –Ω–∞–±—Ä–∞—Ç—å –æ–∫–æ–ª–æ {fact_value} –±–∞–ª–ª–æ–≤.",
            f"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –¥–ª—è –±—é–¥–∂–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ ¬´{direction}¬ª ‚Äî {fact_value}."
        ],
        "–º–∏–Ω_–±–∞–ª–ª_–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞": [
            f"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª ‚Äî {fact_value}.",
            f"–î–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ ¬´{direction}¬ª —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–æ–π –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –º–∏–Ω–∏–º—É–º {fact_value} –±–∞–ª–ª–æ–≤.",
            f"–ü–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –¥–ª—è ¬´{direction}¬ª —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º {fact_value} –±–∞–ª–ª–æ–≤."
        ],
        "–º–∏–Ω_–±–∞–ª–ª_—Ñ–∏–∑–∏–∫–∞": [
            f"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ø–æ —Ñ–∏–∑–∏–∫–µ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª ‚Äî {fact_value}.",
            f"–î–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ ¬´{direction}¬ª —Å —Ñ–∏–∑–∏–∫–æ–π –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –º–∏–Ω–∏–º—É–º {fact_value} –±–∞–ª–ª–æ–≤.",
            f"–ü–æ —Ñ–∏–∑–∏–∫–µ –¥–ª—è ¬´{direction}¬ª —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º {fact_value} –±–∞–ª–ª–æ–≤."
        ],
        "–±—é–¥–∂–µ—Ç–Ω—ã—Ö_–º–µ—Å—Ç": [
            f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ¬´{direction}¬ª ‚Äî {fact_value}.",
            f"–î–ª—è ¬´{direction}¬ª –≤—ã–¥–µ–ª–µ–Ω–æ {fact_value} –±—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç.",
            f"–ë—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ ¬´{direction}¬ª: {fact_value}."
        ],
        "–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö_–º–µ—Å—Ç": [
            f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ¬´{direction}¬ª ‚Äî {fact_value}.",
            f"–î–ª—è ¬´{direction}¬ª –≤—ã–¥–µ–ª–µ–Ω–æ {fact_value} –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç.",
            f"–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ ¬´{direction}¬ª: {fact_value}."
        ],
        "–±–∞–ª–ª—ã": [
            f"–ù–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ¬´{direction}¬ª –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –≤ –ø—Ä–æ—à–ª–æ–º –≥–æ–¥—É –±—ã–ª {fact_value}.",
            f"–ß—Ç–æ–±—ã –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ ¬´{direction}¬ª, –Ω—É–∂–Ω–æ –±—ã–ª–æ –Ω–∞–±—Ä–∞—Ç—å –æ–∫–æ–ª–æ {fact_value} –±–∞–ª–ª–æ–≤.",
            f"–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –Ω–∞ ¬´{direction}¬ª —Å–æ—Å—Ç–∞–≤–ª—è–ª –ø—Ä–∏–º–µ—Ä–Ω–æ {fact_value}.",
            f"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ ¬´{direction}¬ª ‚Äî {fact_value}.",
            f"–û–±—ã—á–Ω–æ –ø–æ—Å—Ç—É–ø–∞—é—Ç –Ω–∞ ¬´{direction}¬ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–∫–æ–ª–æ {fact_value}."
        ],
        "–ø—Ä–µ–¥–º–µ—Ç—ã": [
            f"–î–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ ¬´{direction}¬ª –Ω—É–∂–Ω–æ —Å–¥–∞–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã: {fact_value}.",
            f"–ï–ì–≠ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º: {fact_value} ‚Äî —ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–ª—è ¬´{direction}¬ª.",
            f"–ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—É –Ω–∞ ¬´{direction}¬ª –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –ø—Ä–µ–¥–º–µ—Ç—ã: {fact_value}.",
            f"–°–ø–∏—Å–æ–∫ –ï–ì–≠ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª: {fact_value}.",
            f"–ü–æ—Å—Ç—É–ø–∞—é—â–∏–µ –Ω–∞ ¬´{direction}¬ª –≤—ã–±–∏—Ä–∞—é—Ç: {fact_value}."
        ],
        "–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏": [
            f"–ü–æ—Å–ª–µ ¬´{direction}¬ª –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫: {fact_value}.",
            f"–í—ã–ø—É—Å–∫–Ω–∏–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª –Ω–∞—Ö–æ–¥—è—Ç —Å–µ–±—è –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è—Ö: {fact_value}.",
            f"–ö–∞—Ä—å–µ—Ä–∞ –ø–æ—Å–ª–µ ¬´{direction}¬ª –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å: {fact_value}.",
            f"–°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤ ¬´{direction}¬ª: {fact_value}.",
            f"–î–∏–ø–ª–æ–º ¬´{direction}¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º: {fact_value}."
        ],
        "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": [
            f"–ù–∞ ¬´{direction}¬ª –∏–∑—É—á–∞—é—Ç: {fact_value}.",
            f"–ü—Ä–æ–≥—Ä–∞–º–º–∞ ¬´{direction}¬ª –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç: {fact_value}.",
            f"–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç: {fact_value}.",
            f"–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª: {fact_value}.",
            f"–£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω ¬´{direction}¬ª –≤–∫–ª—é—á–∞–µ—Ç: {fact_value}."
        ],
        "–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è": [
            f"–ï—Å–ª–∏ —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ {fact_value}, —Ç–æ {direction} - –æ—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! üòä",
            f"–î–∞, {direction} –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥–µ—Ç, –µ—Å–ª–∏ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è {fact_value}!",
            f"–í–∏–∂—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ! –¢–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∫ {fact_value} –∏ {direction} —Ö–æ—Ä–æ—à–æ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è üëç",
            f"–° —Ç–∞–∫–∏–º–∏ —É–≤–ª–µ—á–µ–Ω–∏—è–º–∏ –∫–∞–∫ {fact_value} —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ {direction}",
            f"–¢–æ—á–Ω–æ —É–≥–∞–¥–∞–ª! –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è {direction} –∫–∞–∫ —Ä–∞–∑ –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ {fact_value}",
        ]
    }
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –¥–ª—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
    if fact_type == "–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è":
        # –í–æ–ø—Ä–æ—Å –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
        if direction and interest:
            if direction in preference_index.get(interest, []):
                return random.choice([
                    f"–î–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ¬´{direction}¬ª –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ {interest}!",
                    f"–ë–µ–∑—É—Å–ª–æ–≤–Ω–æ! –ò–Ω—Ç–µ—Ä–µ—Å –∫ {interest} —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´{direction}¬ª.",
                    f"–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ! –ù–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ¬´{direction}¬ª –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ {interest}."
                ])
            else:
                return random.choice([
                    f"–ù–µ—Ç, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ¬´{direction}¬ª –Ω–µ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ {interest}.",
                    f"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, {interest} –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä–µ—Å–æ–º –¥–ª—è ¬´{direction}¬ª.",
                    f"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ¬´{direction}¬ª –Ω–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ {interest}."
                ])
        
        # –í–æ–ø—Ä–æ—Å –æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞
        elif interest:
            directions = preference_index.get(interest, [])
            if directions:
                if len(directions) > 1:
                    dir_list = ", ".join(directions[:-1]) + " –∏ " + directions[-1]
                else:
                    dir_list = directions[0]
                    
                return random.choice([
                    f"–í—ã –º–æ–∂–µ—Ç–µ –∏–∑—É—á–∞—Ç—å {interest} –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö: {dir_list}.",
                    f"–ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç {interest}, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: {dir_list}.",
                    f"–° —Ç–∞–∫–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å—Ç–ø–∏—Ç—å –Ω–∞: {dir_list}."
                ])
            else:
                return f"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å {interest}, –Ω–µ –Ω–∞–π–¥–µ–Ω–æ."
    
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    return random.choice(templates.get(fact_type, [fact_value]))

train_data = []
MAX_EXAMPLES = 2000  # –£–≤–µ–ª–∏—á–∏–ª–∏ –ª–∏–º–∏—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
attempts = 0

# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö (–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é)
for interest in all_interests:
    for q_tpl in [tpl for tpl in QUESTION_TEMPLATES["–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"] if "{interest}" in tpl and "{dir}" not in tpl]:
        question = f"{random_prefix()} {q_tpl.format(interest=interest)} {random_suffix()}".strip()
        answer = generate_answer("–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è", None, interest=interest)
        train_data.append(InputExample(texts=[question, answer]))
        
        if len(train_data) >= MAX_EXAMPLES:
            break
    if len(train_data) >= MAX_EXAMPLES:
        break

# 2. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
for _, row in df.iterrows():
    direction = row["–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"]
    
    # –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∫—Ç—ã
    facts = {
        "–ø—Ä–æ—Ö_–±–∞–ª–ª_–±—é–¥–∂–µ—Ç": str(row.get("–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ï–ì–≠(–ë—é–¥–∂–µ—Ç)", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–º–∏–Ω_–±–∞–ª–ª_–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞": str(row.get("–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ï–ì–≠(–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞)", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–º–∏–Ω_–±–∞–ª–ª_—Ñ–∏–∑–∏–∫–∞": str(row.get("–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –ï–ì–≠(—Ñ–∏–∑–∏–∫–∞)", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–±—é–¥–∂–µ—Ç–Ω—ã—Ö_–º–µ—Å—Ç": str(row.get("–ë—é–¥–∂–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö_–º–µ—Å—Ç": str(row.get("–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Å—Ç", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–±–∞–ª–ª—ã": str(row.get("–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ï–ì–≠(–ë—é–¥–∂–µ—Ç)", "–Ω–µ —É–∫–∞–∑–∞no")),
        "–ø—Ä–µ–¥–º–µ—Ç—ã": str(row.get("–ü—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏": str(row.get("–ë—É–¥—É—â–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")),
        "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": str(row.get("–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è", "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")) if "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è" in row else "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
    }

    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    if "–ò–Ω—Ç–µ—Ä–µ—Å—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)" in row:
        interests = str(row["–ò–Ω—Ç–µ—Ä–µ—Å—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)"])
        if interests != "–Ω–µ —É–∫–∞–∑–∞–Ω–æ" and interests.strip():
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä–µ—Å—ã –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥
            interests_list = [i.strip() for i in interests.split(",") if i.strip()]
            formatted_interests = ", ".join(interests_list[:-1]) + " –∏ " + interests_list[-1] if len(interests_list) > 1 else interests_list[0]
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            for q_tpl in [tpl for tpl in QUESTION_TEMPLATES["–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"] if "{dir}" in tpl and "{interest}" not in tpl]:
                question = f"{random_prefix()} {q_tpl.format(dir=direction)} {random_suffix()}".strip()
                answer = generate_answer("–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è", formatted_interests, direction=direction)
                train_data.append(InputExample(texts=[question, answer]))
                if len(train_data) >= MAX_EXAMPLES:
                    break
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            for interest in interests_list:
                for q_tpl in [tpl for tpl in QUESTION_TEMPLATES["–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"] if "{dir}" in tpl and "{interest}" in tpl]:
                    question = f"{random_prefix()} {q_tpl.format(dir=direction, interest=interest)} {random_suffix()}".strip()
                    answer = generate_answer(
                        "–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è", 
                        None, 
                        direction=direction,
                        interest=interest
                    )
                    train_data.append(InputExample(texts=[question, answer]))
                    if len(train_data) >= MAX_EXAMPLES:
                        break
                if len(train_data) >= MAX_EXAMPLES:
                    break
            if len(train_data) >= MAX_EXAMPLES:
                break

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤
    for fact_type, templates_list in QUESTION_TEMPLATES.items():
        if fact_type == "–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è":  # –£–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏
            continue
            
        fact_value = facts.get(fact_type, "–Ω–µ —É–∫–∞–∑–∞–Ω–æ")
        if fact_value == "–Ω–µ —É–∫–∞–∑–∞–Ω–æ" or fact_value.strip() == "":
            continue

        for q_tpl in templates_list:
            question = f"{random_prefix()} {q_tpl.format(dir=direction)} {random_suffix()}".strip()
            for _ in range(random.randint(1, 3)):
                answer = generate_answer(fact_type, fact_value, direction=direction)
                train_data.append(InputExample(texts=[question, answer]))
                if len(train_data) >= MAX_EXAMPLES:
                    break
            if len(train_data) >= MAX_EXAMPLES:
                break
        if len(train_data) >= MAX_EXAMPLES:
            break
    if len(train_data) >= MAX_EXAMPLES:
        break

# –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—â–∞–Ω–∏—è
thank_you_phrases = [
    "—Å–ø–∞—Å–∏–±–æ", "—Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ", "–æ–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ", "—Å–ø—Å", "–±–ª–∞–≥–æ–¥–∞—Ä—é",
    "—Å–ø–∞—Å–∏–±–æ —Ç–µ–±–µ", "–±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤—É—é", "—Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å", "thanks", "thank you",
    "—Å–ø–∞—Å–∏–±–æ –æ–≥—Ä–æ–º–Ω–æ–µ", "—Ç—ã –ø–æ–º–æ–≥", "—Ç—ã –º–æ–ª–æ–¥–µ—Ü", "—Å–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–≤–µ—Ç", "—Å–ø–∞—Å–∏–±–æ, –±–æ—Ç",
    "–ø–∞—Å–∏–±", "–ø–∞—Å–∏–±–∫–∏", "–±–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –≤—Å—ë", "—Ä–µ—Å–ø–µ–∫—Ç", "–±–ª–∞–≥–æ–¥–∞—Ä–æ—á–∫–∞"
]
thank_you_responses = [
    "–Ø –µ—â—ë –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª, –Ω–æ —Å–ø–∞—Å–∏–±–æ!",
    "–°–ø–∞—Å–∏–±–æ, –Ω–æ —è –ø–æ–∫–∞ –Ω–µ –ø–æ–º–æ–≥!",
    "–ë–ª–∞–≥–æ–¥–∞—Ä—é, —Ö–æ—Ç—è —è –µ—â—ë –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –¥–∏–∞–ª–æ–≥–µ!",
    "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å, –Ω–æ —è –∂–¥—É –≤–∞—à–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞!",
    "–ü—Ä–∏—è—Ç–Ω–æ —Å–ª—ã—à–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å, –Ω–æ –¥–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω—ë–º –¥–∏–∞–ª–æ–≥!",
]

goodbye_phrases = [
    "–ø–æ–∫–∞", "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è", "—É–≤–∏–¥–∏–º—Å—è", "–±–∞–π", "bye",
    "–¥–æ –≤—Å—Ç—Ä–µ—á–∏", "–ø—Ä–æ—â–∞–π", "–≤—Å–µ–≥–æ –¥–æ–±—Ä–æ–≥–æ", "—Å—á–∞—Å—Ç–ª–∏–≤–æ", "—á–∞–æ",
    "–º–Ω–µ –ø–æ—Ä–∞", "—è –ø–æ—à—ë–ª", "–µ—â—ë —É–≤–∏–¥–∏–º—Å—è", "—É–≤–∏–¥–∏–º—Å—è –ø–æ–∑–∂–µ", "—è —É—Ö–æ–∂—É",
    "–≤—ã–∫–ª—é—á–∞—é—Å—å", "–¥–æ –∑–∞–≤—Ç—Ä–∞", "–≤—Å—ë, –ø–æ–∫–∞", "–±–æ—Ç, –ø–æ–∫–∞", "—Å—á–∞—Å—Ç–ª–∏–≤–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è"
]
goodbye_responses = [
    "–ü—Ä–æ—â–∞–π—Ç–µ!",
    "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!",
    "–í—Å–µ–≥–æ –¥–æ–±—Ä–æ–≥–æ!",
    "–ü–æ–∫–∞!"
]

for phrase in thank_you_phrases:
    for response in thank_you_responses:
        train_data.append(InputExample(texts=[phrase, response]))

for phrase in goodbye_phrases:
    for response in goodbye_responses:
        train_data.append(InputExample(texts=[phrase, response]))

print(f"‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ {len(thank_you_phrases) * len(thank_you_responses)} –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π –∏ {len(goodbye_phrases) * len(goodbye_responses)} –ø—Ä–æ—â–∞–Ω–∏–π.")

with open("train_data.jsonl", "w", encoding="utf-8") as f:
    for example in train_data:
        json.dump({"texts": example.texts}, f, ensure_ascii=False)
        f.write("\n")

print(f"‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–∏–º–µ—Ä–æ–≤: {len(train_data)}")
